<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataLens Formula Assistant</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="title-section">
                    <h1 class="title">DataLens Formula Assistant</h1>
                    <p class="subtitle">–ü–æ–º–æ—â–Ω–∏–∫ –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º DataLens</p>
                </div>
                <button id="settings-btn" class="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
            </div>
            <div class="mode-indicator" id="mode-indicator">
                <span class="mode-badge" id="mode-badge">–õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫</span>
            </div>
        </header>
        
        <main class="main">
            <div class="search-section">
                <label for="question-input" class="input-label">–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ —Ñ–æ—Ä–º—É–ª–∞—Ö DataLens:</label>
                <textarea
                    id="question-input"
                    class="question-input"
                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∫–∞–∫ –ø–æ—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É –ø–æ —É—Å–ª–æ–≤–∏—é?"
                    rows="3"
                ></textarea>
                
                <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–∏–ø–∞ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è AI —Ä–µ–∂–∏–º–∞ -->
                <div class="response-type-selector" id="response-type-selector" style="display: none;">
                    <label class="response-type-label">–¢–∏–ø –æ—Ç–≤–µ—Ç–∞:</label>
                    <div class="response-type-options">
                        <label class="radio-option-small">
                            <input type="radio" name="responseType" value="short" id="response-short">
                            <span class="radio-custom-small"></span>
                            <span>–ö—Ä–∞—Ç–∫–∏–π</span>
                        </label>
                        <label class="radio-option-small">
                            <input type="radio" name="responseType" value="detailed" id="response-detailed" checked>
                            <span class="radio-custom-small"></span>
                            <span>–ü–æ–¥—Ä–æ–±–Ω—ã–π</span>
                        </label>
                    </div>
                </div>
                
                <button id="search-btn" class="search-btn">–ù–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ</button>
            </div>
            
            <div class="results-section" id="results-section" style="display: none;">
                <h3 class="results-title">–ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
                <div id="results-container" class="results-container">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å -->
                </div>
            </div>
            
            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p id="loading-text">–ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π...</p>
            </div>
            
            <div class="ai-response" id="ai-response" style="display: none;">
                <h3 class="response-title">–û—Ç–≤–µ—Ç AI-–ø–æ–º–æ—â–Ω–∏–∫–∞:</h3>
                <div id="ai-response-content" class="ai-response-content">
                    <!-- AI –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∑–¥–µ—Å—å -->
                </div>
                <div class="response-actions" id="response-actions">
                    <button id="approve-btn" class="action-btn approve-btn" title="–û—Ç–≤–µ—Ç –ø–æ–ª–µ–∑–µ–Ω - –¥–æ–±–∞–≤–∏—Ç—å –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π">
                        üëç –ü–æ–ª–µ–∑–Ω–æ
                    </button>
                    <button id="reject-btn" class="action-btn reject-btn" title="–û—Ç–≤–µ—Ç –Ω–µ–≤–µ—Ä–µ–Ω - –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π">
                        üëé –ù–µ–≤–µ—Ä–Ω–æ
                    </button>
                </div>
            </div>
            
            <div class="no-results" id="no-results" style="display: none;">
                <p>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å.</p>
            </div>
        </main>
        
        <footer class="footer">
            <div class="stats">
                <span id="functions-count">160+ —Ñ—É–Ω–∫—Ü–∏–π</span> ‚Ä¢ 
                <span id="categories-count">7 –∫–∞—Ç–µ–≥–æ—Ä–∏–π</span>
            </div>
        </footer>
    </div>
    
    <script src="memory-bank.js"></script>
    <script src="ai-api.js"></script>
    <script src="memory-manager.js"></script>
    <script src="popup.js"></script>
</body>
</html>